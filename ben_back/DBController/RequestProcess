from flask import Flask, request, jsonify
import openai

app = Flask(__name__)
db = DBController()

@app.route('/voice', methods=['POST'])
def handle_voice():
    data = request.json
    text = data.get('text')

    if not text:
        return jsonify({"error": "No text provided"}), 400

    db.write(text)
    # response = process_with_openai(text) 
    # return jsonify({"response": response})

# def process_with_openai(text):
#     openai.api_key = "TA_CLE_OPENAI"
#     response = openai.ChatCompletion.create(
#         model="gpt-4",
#         messages=[{"role": "user", "content": text}]
#     )
#     return response["choices"][0]["message"]["content"]
